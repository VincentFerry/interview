{{ form_start(form) }}
    <div class="mb-3">
        {{ form_label(form.name) }}
        {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.name) }}
    </div>

    <div class="mb-3">
        {{ form_label(form.content) }}
        {{ form_widget(form.content, {'attr': {'class': 'form-control', 'rows': 5}}) }}
        {{ form_errors(form.content) }}
    </div>

    <div class="mb-3">
        {{ form_label(form.topics) }}
        {{ form_widget(form.topics) }}
        {{ form_errors(form.topics) }}
    </div>

    <div class="mb-3">
        <h4>Ingredients</h4>
        <div {{ stimulus_controller('collection', {
            'add-label': 'Add ingredient',
            'delete-label': 'Remove ingredient'
        }) }}>
            <div data-collection-target="collectionContainer"
                 data-prototype="{{ form_widget(form.ingredients.vars.prototype)|e('html_attr') }}">
                {% for ingredient in form.ingredients %}
                    <div class="ingredient-item mb-2 p-3 border rounded">
                        {{ form_widget(ingredient) }}
                    </div>
                {% endfor %}
            </div>
            <button type="button"
                    class="btn btn-secondary"
                    data-action="click->collection#addCollectionElement">
                Add ingredient
            </button>
        </div>
        {{ form_errors(form.ingredients) }}
    </div>

    <button class="btn btn-primary">{{ button_label|default('Save') }}</button>
{{ form_end(form) }}
